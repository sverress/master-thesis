\newpage
\section{Formulation of the Alternative Model}\label{formulation_alternative}
\stoptocwriting
\subsection{Additional notation}
\begin{tabular}{p{1.5cm} p{12.5cm}}
    \textbf{Parameters}  \\
    $R_{kz}$ & Reward for visiting $k$ locations in zone $z$\\
    \textbf{Variables}  \\
    $w_{kz}$ & 1 if $k$ locations are visited in zone $z$; 0 otherwise
    
\end{tabular}

\subsection{Alternative Model}
\renewcommand{\theequation}{B.\arabic{equation}}
\setcounter{equation}{0}
\begin{eqnarray}
        % Objective Function
        \max & \displaystyle\sum_{z\in \mathcal{Z}}\displaystyle\sum_{k=0}^{|\mathcal{L}_z|} R_{kz}w_{kz} - \displaystyle\sum_{v\in \mathcal{V}} \displaystyle\sum_{i \in \mathcal{L}^{S}} B_{i}y_{iv} \label{eq:obj_A}\\
        % Constraints
        % Reward based on number of e-scooters handled in zone z
        \text{s.t} & \displaystyle\sum_{k=0}^{|\mathcal{L}_z|}kw_{kz} = \displaystyle\sum_{v\in \mathcal{V}} \displaystyle\sum_{i \in \mathcal{L}_{z}} y_{iv} -  \displaystyle\sum_{v\in \mathcal{V}} \displaystyle\sum_{i \in \mathcal{L}_{z} \cap \mathcal{L}^{S}} p_{iv} & z \in \mathcal{Z}\label{eq:determine_w_A} \\
        % Only 1 w in each zone
        & \displaystyle\sum_{k=0}^{|\mathcal{L}_z|}w_{kz} \leq 1 & z \in \mathcal{Z}\label{eq:one_w_A}\\
        % All paths need to start and end at the depot
        & \displaystyle\sum_{v\in \mathcal{V}} \displaystyle\sum_{d,j\in \mathcal{L}^+}x_{djv} = \displaystyle\sum_{v\in \mathcal{V}} \displaystyle\sum_{i,d\in \mathcal{L}^+}x_{idv} = |\mathcal{V}|  \label{eq:const_deopt_A}\\ 
        % A location can only be visited once
	    & \displaystyle\sum_{v\in \mathcal{V}}y_{iv} \leq 1 & i \in \mathcal{L} \label{eq:const_at_most_once_A}\\
	    % Connectivity constraint
	    & \displaystyle\sum_{i\in \mathcal{L}^{+}}x_{ikv} = \displaystyle\sum_{j\in \mathcal{L}^{+}}x_{kjv} = y_{kv} & k \in \mathcal{L}^{+}, v\in \mathcal{V} \label{eq:const_connectivity_A}\\
	    % Time limit constraint
	    & \displaystyle\sum_{i,j \in \mathcal{L}} T_{ij}x_{ijv} \leq T_{max} & v\in \mathcal{V} \label{eq:const_time_A}\\
	    % No pickup in zones lacking e-scooters
	    & \displaystyle\sum_{v\in \mathcal{V}}\displaystyle\sum_{i\in \mathcal{L}_z} p_{iv} = 0  & z\in \mathcal{Z}^D \label{eq:pickup_zone_A}\\
	    % Cannot pick up more than diff between |Lz| and optimal state
    	& \displaystyle\sum_{v\in \mathcal{V}}\displaystyle\sum_{i\in \mathcal{L}_z} p_{iv} \leq E_z & z\in \mathcal{Z} \label{eq:pickup_zone_2_A}\\
	    % Subtour Elimination
	    & u_{iv} \leq \displaystyle\sum_{j \in \mathcal{L}^{+}} \displaystyle\sum_{k \in \mathcal{L}^{+}} x_{jkv} &  i\in \mathcal{L}, v\in \mathcal{V} \label{eq:const_subtour1_A}\\
	    & u_{iv} - u_{jv} +1 \leq (|\mathcal{L}^{+}|-1)(1-x_{ijv})&   i,j \in \mathcal{L} \setminus\{i=j\}, v\in \mathcal{V} \label{eq:const_subtour2_A}\\
	    % We cannot visit more locations then our battery capacity
	    & \displaystyle\sum_{i\in \mathcal{L}^{S}}y_{iv} \leq Q^{B} &   v \in \mathcal{V} \label{eq:capacity_const_A}\\
	    % Vechicle capacity constraints
	    & 0 \leq l_{iv} \leq Q^{S} & i \in \mathcal{L}, v \in \mathcal{V} \label{eq:const_vcap_A}\\
	    % Handling inventory at pick-up
	    & l_{iv} + p_{iv} - l_{jv} - Q^{S}(1-x_{ijv}) \leq 0 & i \in \mathcal{L}^{S}, j \in \mathcal{L}^{+} \setminus\{i=j\}, v \in \mathcal{V} \label{eq:const_vcap_pickup_A}\\
	    & l_{iv} + p_{iv} - l_{jv} + Q^{S}(1-x_{ijv}) \geq 0 & i \in \mathcal{L}^{S}, j \in \mathcal{L}^{+} \setminus\{i=j\}, v \in \mathcal{V} \label{eq:const_vcap_pickup_A}\\
	    % Handling inventory at drop-off
	    & l_{iv} - y_{iv} - l_{jv} - Q^{S}(1-x_{ijv}) \leq 0 & i \in \mathcal{L}^{D}, j \in \mathcal{L}^{+} \setminus\{i=j\}, v \in \mathcal{V} \label{eq:const_vcap_delivery_A}\\
	    & l_{iv} - y_{iv} - l_{jv} + Q^{S}(1-x_{ijv}) \geq 0 & i \in \mathcal{L}^{D}, j \in \mathcal{L}^{+} \setminus\{i=j\}, v \in \mathcal{V} \label{eq:const_vcap_delivery_A}\\
	    % Handling inventory when leaving depot
	    & l_{iv} - Q^{S}(1-x_{div}) \leq 0 & i \in \mathcal{L}, v \in \mathcal{V} \label{eq:const_vcap_depot_out_A}\\
	    % Handling inventory when returning to depot
	    & \displaystyle\sum_{d\in \mathcal{L}^+}l_{dv} = 0 & v \in \mathcal{V} \label{eq:const_vcap_depot_in_A}\\
	    % Variable initialization 
	    & x_{ijv}, y_{iv} \in {0, 1} &   i,j\in \mathcal{L}^{+}, v\in \mathcal{V} \\
	    & p_{iv} \in {0, 1} &   i\in \mathcal{L}^{S}, v\in \mathcal{V} \\
	    & l_{iv} \in \mathbb{R}^{+} & i\in \mathcal{L}^{+}, v\in \mathcal{V} \\
	    & u_{iv} \in \mathbb{R}^{+} & i\in \mathcal{L}, v\in \mathcal{V} 
\end{eqnarray}
\newpage
\textbf{Symmetry breaking constraints and other valid inequalities:}
\begin{eqnarray}
        % Symmetry breaking - arcs by vehicle 
	    & \displaystyle\sum_{i\in \mathcal{L}^+}\displaystyle\sum_{j\in \mathcal{L}^+} x_{ijv} \geq \displaystyle\sum_{i\in \mathcal{L}^+}\displaystyle\sum_{j\in \mathcal{L}^+} x_{ij(v+1)} & v \in \mathcal{V} \setminus\{| \mathcal{V}|\} \label{eq:const_number_of_arcs_A}\\
	    % Symmetry breaking - visits by vehicle
	    & \displaystyle\sum_{i\in \mathcal{L}^+} y_{iv} \geq \displaystyle\sum_{i\in \mathcal{L}^+} y_{i(v+1)} & v \in \mathcal{V} \setminus\{| \mathcal{V}|\} \label{eq:const_number_of_visits_A} \\
	    % Symmetry breaking - time used by vehicle 
	    & \displaystyle\sum_{i\in \mathcal{L}^+}\displaystyle\sum_{j\in \mathcal{L}^+} t_{ij}x_{ijv} \geq \displaystyle\sum_{i\in \mathcal{L}^+}\displaystyle\sum_{j\in \mathcal{L}^+} t_{ij}x_{ij(v+1)} & v \in \mathcal{V} \setminus\{| \mathcal{V}|\} \label{eq:const_total_time_used_A}\\
	    %Valid inequalities - back and forth 
	    & \displaystyle\sum_{v\in \mathcal{V}} x_{ijv} + \displaystyle\sum_{v\in \mathcal{V}} x_{jiv} \leq 1 & i,j \in \mathcal{L} \label{eq:const_back_and_forth_A}\\
	    %Valid inequalities - subtour in subset
	    & \displaystyle\sum_{i\in \mathcal{L}} \displaystyle\sum_{j\in \mathcal{L}} \displaystyle\sum_{v\in \mathcal{V}} x_{ijv} \leq |\mathcal{S}|-1  & \mathcal{S} \subseteq \mathcal{L}, |\mathcal{S}|\geq 2 \label{eq:const_subtour_in_set_A}\\
	    %Valid inequalities - arcs less then locations
	    & \displaystyle\sum_{i\in \mathcal{L}} \displaystyle\sum_{j\in \mathcal{L}} \displaystyle\sum_{v\in \mathcal{V}} x_{ijv}  \leq |\mathcal{L}^+|+|\mathcal{V}| \label{eq:const_arcs_less_then_locations_A}
\end{eqnarray}
\resumetocwriting